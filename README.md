# YouTube Command Line Utility

The `yt` utility is a bash script that uses `curl` to do the most common
tasks involving [YouTube API] related to video management and live
streaming. This includes retrieving or setting video title, description,
and upload information. If you are just starting out with the YouTube API and bash scripting, this script provides a good starting point for
understanding how the YouTube API works.

[YouTube API]: <https://developers.google.com/youtube/v3/getting-started>

## Usage

```
yt (description|help|last|live|open|title|uploads|usage|video)
```

## Dependencies

* `bash` (4+)
* `curl`
* `jq`
* `tput`
* `$EDITOR`
* `$PAGER`
* `pandoc`
* <https://github.com/rwxrob/auth-go> (but easily replaced)

## Legal

Copyright 2021 Rob Muhlestein <rob@rwx.gg>  
Released under Apache-2.0 license  
Please mention https://youtube.com/rwxrob

## Commands

### The `description` Command

```
yt description (last|live|<id>|<url>) [<string>]
```

The `description` command outputs the description text from the
specified video (as rendered by `jq`).  If an additional `<string>`
argument is passed the description will be set instead.

### Display Help Information

```
help [<command>]
```

Displays specific help information. If no argument is passed displays
general help information (main). Otherwise, the documentation for the
specific argument keyword is displayed, which usually corresponds to
a command name (but not necessarily). All documentation is written in
GitHub Flavored Markdown and will displayed as a web page if `pandoc`
and `$HELP_BROWSER` are detected, otherwise, just the Markdown is sent
to `$PAGER` (default: more).

Also see `readme` and `usage` commands.

### The `last` Command

```
yt last [id|url]
```

Outputs the most recently added file to the YouTube internal `uploads`
playlist (see `yt uploads` as well). If `id` is added will only output
the ID portion. Otherwise, `url` is the default.

### The `live` Command

```
yt live [(id|url|title)]
```

Outputs the current live stream video.  By default, returns a YouTube
URL. To get only the YouTube identifier add `id`. To get the title add
`title`. To set the title provide it after `title`.

### The `open` Command

```
yt open [last|live|<id>|<url>]
```

Detects an external `open` command, function, or alias and calls it
passing in the YouTube URL to the specific video.  Outputs `<open
command not found>` if cannot find. If no video is passed, opens up the
youtube.com web page.

### Generate `README.md` File

```
command readme > README.md
```

The `readme` command will output the embedded help documentation in raw
GitHub Flavored Markdown suitable for use as a `README.md` file on
GitHub or similar hosting service.

### The `title` Command

```
yt title (last|live|<id>|<url>) [<string>]
```

Outputs title for the specified video or sets it to a new one passed as
`<string>`.

### The `uploads` Command

```
yt uploads [<count>]
```

Lists the most recently uploaded videos (from the uploads playlist) by
YouTube identifier and current title. By default, only displays enough
lines to fill the current terminal screen. (Keep in mind, this only
works if title length has been kept to 74 or fewer columns.) Provide
a `<count>` argument with the total number if more lines are are wanted.

Note that a live stream video is always included in the `uploads` YouTube playlist and therefore will need to be explicitely excluded.

### The `usage` Command

Displays a summary of usage.

### The `video` Command

```
yt video (last|live|<id>|<url>) | jq ...
file=$(yt video last | jq .fileDetails.fileName)
likes=$(yt video last | jq .statistics.likeCount)
```

Outputs the JSON returned for the given video (by ID or URL) suitable
for passing to `jq` for further isolation. This includes the following:

* `.id`
* `.fileDetails`
* `.contentDetails`
* `.statistics`
* `.status`
* `.liveStreamingDetails`
* `.player`
* `.processingDetails`
* `.recordingDetails`
* `.suggestions`
* `.topicDetails`
* `.localizations`

If and when queries are needed that span multiple videos and do not need all of this consider adding a new command specifically for those cases since this specific command is so heavy.

----

*Autogenerated Tue Aug 10 07:41:38 PM EDT 2021*

