# YouTube Command Line Utility

The `yt` utility is a bash script that uses `curl` to do provide
commands for the most common tasks involving [YouTube API] relates to
video management and live streaming such as retrieving or setting video
title, description, and uploads information. If nothing more, this
script provides a good starting point for understanding how the YouTube
API works.

[YouTube API]: <https://developers.google.com/youtube/v3/getting-started>

## Usage

```
yt (description|help|last|live|open|title|uploads|usage|video)
```

## Dependencies

* `bash` (4+)
* `curl`
* `jq`
* `tput`
* `$EDITOR`
* `$PAGER`
* `pandoc`
* <https://github.com/rwxrob/auth-go> (but easily replaced)

## Legal

Copyright 2021 Rob Muhlestein <rob@rwx.gg>  
Released under Apache-2.0 license  
Please mention https://youtube.com/rwxrob

## Commands

### The `yt description` Command

```
yt description (last|live|<id>|<url>) [<string>]
```

The `description` command outputs the description text from the
specified video (as rendered by `jq`).  If an additional `<string>`
argument is passed the description will be set instead.

### Display Help Information

```
help [<command>]
```

Displays specific help information. If no argument is passed displays
general help information (main). Otherwise, the documentation for the
specific argument keyword is displayed, which usually corresponds to
a command name (but not necessarily). All documentation is written in
GitHub Flavored Markdown and will displayed as a web page if `pandoc`
and `$HELP_BROWSER` are detected, otherwise, just the Markdown is sent
to `$PAGER` (default: more).

Also see `readme` and `usage` commands.

### The `yt last` Command

```
yt last [id|url]
```

The `last` command simply outputs the most recently added file to the
YouTube internal `uploads` playlist (see `yt uploads` as well). If `id`
is added will only output the ID portion. Otherwise, `url` is the
default.

### The `yt live` Command

```
yt live [(id|url|title)]
```

The `live` command focuses on the current live stream video.  By default, returns the YouTube URL. To get only the YouTube identifier add `id`. To get the title add `title`. To set the title provide it after `title`.

### The `yt open` Command

```
yt open [last|live|<id>|<url>]
```

The `open` command will detect an external `open` command, function, or
alias and call it passing in the full YouTube URL to the specific video.
Outputs `<open command not found>` if cannot find. If no video is
passed, opens up the youtube.com web page.

### Generate `README.md` File

```
command readme > README.md
```

The `readme` command will output the embedded help documentation in raw
GitHub Flavored Markdown suitable for use as a `README.md` file on
GitHub or similar hosting service.

### The `yt title` Command

```
yt title (last|live|<id>|<url>) [<string>]
```

The `title` command outputs the title for the specified video or sets it to a new one passed as `<string>`.

### The `yt uploads` Command

```
yt uploads [<count>]
```

The `uploads` command lists the most recently uploaded videos (from the
contentDetails.related.Playlists.uploads playlist) by YouTube identifier
and current title. By default, will only display enough lines to exactly
fill the current terminal screen (tput lines - 2). (Keep in mind, this
only works if title length has been kept to 74 or fewer columns.) Provide
a `<count>` argument with the total number if more lines are are wanted.

Note that a live stream video is always included in the `uploads` YouTube playlist and therefore will need to be explicitely excluded.

### The `usage` Command

Displays a summary of usage.

### The `yt video` Command

```
yt video (last|live|<id>|<url>) | jq ...
file=$(yt video last | jq .fileDetails.fileName)
likes=$(yt video last | jq .statistics.likeCount)
```

The `video` command returns the raw JSON returned for the given video
(by ID or URL) suitable for passing to `jq` for further isolation. This
includes *all* the possible data for this video:

* `.id`
* `.fileDetails`
* `.contentDetails`
* `.statistics`
* `.status`
* `.liveStreamingDetails`
* `.player`
* `.processingDetails`
* `.recordingDetails`
* `.suggestions`
* `.topicDetails`
* `.localizations`

----

*Autogenerated Tue Aug 10 07:17:05 PM EDT 2021*

